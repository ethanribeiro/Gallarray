const express = require('express');
const router = express.Router();
const exhibitCtrl = require("../controllers/exhibit-controller");
const imageCtrl = require("../controllers/image-controller");
const multer = require("multer");

const upload = multer();

////////////////////////////////////
// ROUTES - RESTful routes
////////////////////////////////////

////////////////////////////////////
// INDEX - GET
////////////////////////////////////

router.get('/', exhibitCtrl.index);

////////////////////////////////////
// SHOW - DETAIL - GET
////////////////////////////////////

router.get('/:id', exhibitCtrl.show);

////////////////////////////////////
// CREATE - POST
////////////////////////////////////

router.post('/', exhibitCtrl.create);

////////////////////////////////////
// UPLOAD IMAGE - POST
////////////////////////////////////

router.post(
    "/new/single",
    upload.single("image"),
    imageCtrl.uploadPhoto
);

////////////////////////////////////
// DESTROY - DELETE
////////////////////////////////////

router.delete('/:id', exhibitCtrl.delete);

////////////////////////////////////
// UPDATE - PUT
////////////////////////////////////

router.put('/:id', exhibitCtrl.update);

module.exports = router